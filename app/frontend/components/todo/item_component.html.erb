<%= component_controller(class: "flex") do %>
<div class="flex flex-nowrap">
    <div class="flex justify-start">
        <div class="grow">
            <label class="checkbox">
                <%= reflex_tag :toggle_completed, :input, nil, type: "checkbox", checked: @todo.completed %>
            </label>
        </div>
        <div class="grow">
            <% if @editing %>
            <div class="mb-0">
                <div class="form-control">
                    <%= reflex_tag "input->handle_name_change", :input, nil, value: @todo.name, class: "input input-bordered" %>
                </div>
                <div class="form-control">
                    <%= reflex_tag :commit_edit, :button, type: "button", class: "btn btn-info btn-wide" do %>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg>
                    <% end %>
                </div>
                <div class="form-control">
                    <%= reflex_tag :end_edit, :button, class: "btn", type: "button" do %>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg>
                    <% end %>
                </div>
            </div>
            <% else %>
            <%= todo_name(@todo) %>
            <% end %>
        </div>
    </div>
    <div class="flex justify-end">
        <div class="grow">
            <div class="btn-group">
                <%= reflex_tag :begin_edit, :button, class: "btn btn-info" do %>
                <% end %>
                <div class="divider lg:divider-horizontal"></div>
                <%= reflex_tag :delete, :button, class: "button is-danger" do %>
                <% end %>
            </div>
        </div>
    </div>
</div>
<% end %>